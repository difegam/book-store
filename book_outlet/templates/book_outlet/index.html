{% extends "book_outlet/base.html" %}
{% block title %}
    All Books
{% endblock title %}
{% block content %}
    <section id="books">
        <h2>Books</h2>
        <section>
            <p>
                <b>Total number of books:</b> {{ total_number_of_books }}
            </p>
            <p>
                <b>Rating:</b>
            </p>
            <ul>
                <li>
                    <b>min: </b> {{ rating_metrics.rating__min }}
                </li>
                <li>
                    <b>max: </b> {{ rating_metrics.rating__max }}
                </li>
                <li>
                    <b>Average Rating:</b> {{ rating_metrics.rating__avg|floatformat:2 }}
                </li>
            </ul>
        </section>
        <ul>
            {% for book in books %}
                <li>
                    {% comment "Option 1" %}
                        <a href="{% url "book_outlet:book-detail" book.id %}">
                    {% endcomment %}
                    <a href="{{ book.get_absolute_url }}"> {# option 2: using urls.resolve in de model #}
                        <b>{{ book.title }}</b>
                    </a>  - (Rating: {{ book.rating }})
                </li>
            {% endfor %}
        </ul>
    </section>
{% endblock content %}
